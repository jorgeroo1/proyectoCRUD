{% extends 'base.html.twig' %}
{% block title %}{{ title }}{% endblock %}
{% block body %}
    <div class="bg-gray-900 py-16">
        <div class="container mx-auto px-4">
            <h1 class="text-6xl text-white text-center">
                <i class="fas fa-film"></i>Movies<i class="fas fa-film"></i>
            </h1>
        </div>
    </div>
        <div class="container mx-auto px-4 py-8">
            {% if movies is empty %}
            <div class="bg-white rounded-lg shadow-lg overflow-hidden relative">
                <div class="px-6 py-4">
                    <div class="font-bold text-xl mb-2">No movies found</div>
                </div>
                <p class="text-gray-700 text base">
                    There are no movies at this moment. <a href="#" class="text-blue-500">Add one</a>
                </p>
            </div>
        </div>
            {% else %}
                <div class="grid grid-cols-3 gap-4">
                    {% for movie in movies %}
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden relative">
                        <a href="#">
                            <img class="w-full h-56 object-cover object-center" src="{{ movie.poster }}" alt="Imagen no disponible">
                        </a>
                    </div>
                    <div class="px-4 py-4">
                        <div class="font-bold text-xl mb-2">{{ movie.title }}</div>
                        <p class="text-gray-700 text-base">
                            {{ movie.description|slice(0,100) }}
                        </p>

                        {# el include es como llamar al archivo para que usar todo su contenido
                        lo del with es solamente para corroborar que tiene que user la variable movie#}
                        <div class="flex-justify-center mt2">
                            {%  include 'partials/movies/facts.html.twig' with {'movie':movie}%}
                        </div>
                            <div class="flex justify-center my-3">
                                <a href="#" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-l">
                                    <i class="fas fa-edit"></i>Edit
                                </a>
                                <a href="#" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4">
                                    <i class="fas fa-eye"></i>View
                                </a>

                            </div>

                {% endfor %}
                </div>
            {% endif %}
    </div>
{% endblock %}
